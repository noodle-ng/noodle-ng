
<script language="javascript" src="ExternalLibLoader.js"></script>
<script language="javascript" src="SimpleSlider.js"></script>
 
<style>
 * {
 font-family:Trebuchet Ms, Arial;
 font-size:12px;
 }
 select, input {
	border:1px solid silver;
 }
</style>
<script language="javascript" src="VLCobject.js"> </script>
<script language="javascript" src="VLCcontrols.js"> </script>
<script language="javascript">
	 var vlc_controls = null;
	 function seek(pos) {
                // two ways to seek to some position (pos in seconds) : 
        		vlc_controls.target.input.time = parseInt(pos)*1000;
                // can also use this :
                //vlc_controls.target.input.position = parseInt(pos)*1000 / vlc_controls.target.input.length;
     }
     
	 function initVLC() {	
		// load plugin
		
		myvlc = new VLCObject("mymovie", "500", "350");
		myvlc.write("vlccontent");
		
 	
		vlc_controls = new VLCcontrols(myvlc, false);
		
		//vlc_controls.options.set("ffmpeg-pp-q", 6);
        vlc_controls.options.set("http-caching", 5000);
        vlc_controls.options.set("http-reconnect");
 
		
		}
	 

	 // the gup function is from http://www.netlobo.com/url_query_string_javascript.html
	 // it allows us to get the arguments passed via get
	 function gup( name )
	 {
	   name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
	   var regexS = "[\\?&]"+name+"=([^&#]*)";
	   var regex = new RegExp( regexS );
	   var results = regex.exec( window.location.href );
	   if( results == null )
	     return "";
	   else
	     return results[1];
	 }
	 
</script>


<center>
<div id="vlccontent">replaced by VLC controller</div>
</center>
<script language="javascript">
	initVLC();
	var shareID = gup( 'shareID' );
	var port = ""
	if (window.location.port != "")
		port = ":" + window.location.port;
	var host = location.host;
	var uri = "http://" + host + "/proxyDownload?id=" + shareID;
	vlc_controls.play(uri);
</script>